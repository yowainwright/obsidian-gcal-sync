# obsidian-gcal-sync

[![CI](https://github.com/yowainwright/obsidian-gcal-sync/actions/workflows/ci.yml/badge.svg)](https://github.com/yowainwright/obsidian-gcal-sync/actions/workflows/ci.yml)
[![codecov](https://codecov.io/gh/yowainwright/obsidian-gcal-sync/graph/badge.svg)](https://codecov.io/gh/yowainwright/obsidian-gcal-sync)

Obsidian plugin for bidirectional Google Calendar sync.

## Features

- **Import events**: Sync today's Google Calendar events into your daily notes
- **Create events**: Use `/@cal` syntax to create calendar events from tasks
- **Auto-complete**: Get suggestions while typing event parameters

## Setup

### 1. Get Google Calendar credentials

Run the standalone auth script to get your refresh token:

```bash
bun run scripts/get-google-token.ts
```

This will guide you through:

1. Creating a Google Cloud project
2. Enabling the Calendar API
3. Getting your OAuth credentials
4. Authorizing the app and obtaining a refresh token

### 2. Configure the plugin

In Obsidian settings, enter:

- **Client ID**: From Google Cloud Console
- **Client Secret**: From Google Cloud Console
- **Refresh Token**: Generated by the auth script

## Usage

### Creating events

Add a task with the `/@cal` trigger:

```markdown
- [ ] /@cal Team standup /@date:today /@time:9am /@duration:30m
```

Parameters:

- `/@date:` - Date (today, tomorrow, or YYYY-MM-DD)
- `/@time:` - Time (9am, 14:30, etc.)
- `/@duration:` - Duration (30m, 1h, etc.)
- `/@with:` - Attendees (comma-separated emails)
- `/@video:` - Video call (zoom, meet)

### Importing events

Use the command palette to import today's events into your daily note.

## Development

```bash
# Install dependencies
bun install

# Run tests
bun test

# Run tests with coverage
bun test --coverage

# Build plugin
bun run build

# Type check
bun run typecheck

# Lint
bun run lint
```

## License

MIT
